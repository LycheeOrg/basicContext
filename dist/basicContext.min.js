!function(t){var e=function(c){const l="item",o="separator";const r=function(t=""){return c.querySelector(".basicContext "+t)};const s=function(t={}){let e=Object.keys(t).length===0?true:false;if(e===true)t.type=o;if(t.type==null)t.type=l;if(t.class==null)t.class="";if(t.visible!==false)t.visible=true;if(t.icon==null)t.icon=null;if(t.title==null)t.title="Undefined";if(t.disabled!==true)t.disabled=false;if(t.disabled===true)t.class+=" basicContext__item--disabled";if(t.fn==null&&t.type!==o&&t.disabled===false){console.warn(`Missing fn for item '${t.title}'`);return false}return true};const i=function(t,e){let n="",i="";if(s(t)===false)return"";if(t.visible===false)return"";t.num=e;if(t.icon!==null)i=`<span class='basicContext__icon ${t.icon}'></span>`;if(t.type===l)n=`
		       <tr class='basicContext__item ${t.class}'>
		           <td class='basicContext__data' data-num='${t.num}'>${i}${t.title}</td>
		       </tr>
		       `;else if(t.type===o)n=`
		       <tr class='basicContext__item basicContext__item--separator'></tr>
		       `;return n};const f=function(t){let n="";n+=`
	        <div class='basicContextContainer'>
	            <div class='basicContext'>
	                <table>
	                    <tbody>
	        `;t.forEach((t,e)=>n+=i(t,e));n+=`
	                    </tbody>
	                </table>
	            </div>
	        </div>
	        `;return n};const u=function(e={}){let n={x:e.clientX,y:e.clientY};if(e.type==="touchend"&&(n.x==null||n.y==null)){let t=e.changedTouches;if(t!=null&&t.length>0){n.x=t[0].clientX;n.y=t[0].clientY}}if(n.x==null||n.x<0)n.x=0;if(n.y==null||n.y<0)n.y=0;return n};const a=function(t,e){let n=u(t);let i=n.x,l=n.y;let o=c.querySelector(".basicContextContainer");let s={width:o.offsetWidth,height:o.offsetHeight};let r={width:e.offsetWidth,height:e.offsetHeight};if(i+r.width>s.width)i=i-(i+r.width-s.width);if(l+r.height>s.height)l=l-(l+r.height-s.height);if(r.height>s.height){l=0;e.classList.add("basicContext--scrollable")}let f=n.x-i,a=n.y-l;return{x:i,y:l,rx:f,ry:a}};const d=function(t={}){if(t.fn==null)return false;if(t.visible===false)return false;if(t.disabled===true)return false;r(`td[data-num='${t.num}']`).onclick=t.fn;r(`td[data-num='${t.num}']`).oncontextmenu=t.fn;return true};const t=function(t,e,n,i){let l=f(t);c.body.insertAdjacentHTML("beforeend",l);let o=r();let s=a(e,o);o.style.left=`${s.x}px`;o.style.top=`${s.y}px`;o.style.transformOrigin=`${s.rx}px ${s.ry}px`;o.style.opacity=1;if(n==null)n=h;o.parentElement.onclick=n;o.parentElement.oncontextmenu=n;t.forEach(d);if(typeof e.preventDefault==="function")e.preventDefault();if(typeof e.stopPropagation==="function")e.stopPropagation();if(typeof i==="function")i();return true};const e=function(){let t=r();return!(t==null||t.length===0)};const h=function(){if(e()===false)return false;let t=c.querySelector(".basicContextContainer");t.parentElement.removeChild(t);return true};return{ITEM:l,SEPARATOR:o,show:t,visible:e,close:h}}(t.document);t.basicContext=e,"object"==typeof module&&module.exports&&(module.exports=e)}(window);