window.basicContext=function(){let r=null;const a="item",u="separator",c=function(t=""){return document.querySelector(".basicContext "+t)},h=function(t={}){return Object.keys(t).length===0===!0&&(t.type=u),t.type==null&&(t.type=a),t.class==null&&(t.class=""),t.visible!==!1&&(t.visible=!0),t.icon==null&&(t.icon=null),t.title==null&&(t.title="Undefined"),t.disabled!==!0&&(t.disabled=!1),t.disabled===!0&&(t.class+=" basicContext__item--disabled"),t.fn==null&&t.type!==u&&t.disabled===!1?(console.warn(`Missing fn for item '${t.title}'`),!1):!0},y=function(t,n){let e="",l="";return h(t)===!1||t.visible===!1?"":(t.num=n,t.icon!==null&&(l=`<span class='basicContext__icon ${t.icon}'></span>`),t.type===a?e=`
		       <tr class='basicContext__item ${t.class}'>
		           <td class='basicContext__data' data-num='${t.num}'>${l}${t.title}</td>
		       </tr>
		       `:t.type===u&&(e=`
		       <tr class='basicContext__item basicContext__item--separator'></tr>
		       `),e)},b=function(t){let n="";return n+=`
	        <div class='basicContextContainer'>
	            <div class='basicContext'>
	                <table>
	                    <tbody>
	        `,t.forEach((e,l)=>n+=y(e,l)),n+=`
	                    </tbody>
	                </table>
	            </div>
	        </div>
	        `,n},p=function(t={}){let n={x:t.clientX,y:t.clientY};if(t.type==="touchend"&&(n.x==null||n.y==null)){let e=t.changedTouches;e!=null&&e.length>0&&(n.x=e[0].clientX,n.y=e[0].clientY)}return(n.x==null||n.x<0)&&(n.x=0),(n.y==null||n.y<0)&&(n.y=0),n},x=function(t,n){let e=p(t),l=e.x,s=e.y,i={width:window.innerWidth,height:window.innerHeight},o={width:n.offsetWidth,height:n.offsetHeight};l+o.width>i.width&&(l=l-(l+o.width-i.width)),s+o.height>i.height&&(s=s-(s+o.height-i.height)),o.height>i.height&&(s=0,n.classList.add("basicContext--scrollable"));let w=e.x-l,_=e.y-s;return{x:l,y:s,rx:w,ry:_}},g=function(t={}){return t.fn==null||t.visible===!1||t.disabled===!0?!1:(c(`td[data-num='${t.num}']`).onclick=t.fn,c(`td[data-num='${t.num}']`).oncontextmenu=t.fn,!0)},v=function(t,n,e,l){let s=b(t);document.body.insertAdjacentHTML("beforeend",s),r==null&&(r=document.body.style.overflow,document.body.style.overflow="hidden");let i=c(),o=x(n,i);return i.style.left=`${o.x}px`,i.style.top=`${o.y}px`,i.style.transformOrigin=`${o.rx}px ${o.ry}px`,i.style.opacity=1,e==null&&(e=d),i.parentElement.onclick=e,i.parentElement.oncontextmenu=e,t.forEach(g),typeof n.preventDefault=="function"&&n.preventDefault(),typeof n.stopPropagation=="function"&&n.stopPropagation(),typeof l=="function"&&l(),!0},f=function(){let t=c();return!(t==null||t.length===0)},d=function(){if(f()===!1)return!1;let t=document.querySelector(".basicContextContainer");return t.parentElement.removeChild(t),r!=null&&(document.body.style.overflow=r,r=null),!0};return{ITEM:a,SEPARATOR:u,show:v,visible:f,close:d}}();
